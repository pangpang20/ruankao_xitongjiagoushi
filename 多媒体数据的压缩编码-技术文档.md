# Multimedia Data Compression and Encoding - Comprehensive Technical Documentation

# 多媒体数据的压缩编码 - 完整技术文档

---

## Table of Contents | 目录

1. [Introduction | 概述](#introduction--概述)
2. [Fundamentals of Data Compression | 数据压缩基础](#fundamentals-of-data-compression--数据压缩基础)
3. [Lossless Compression Techniques | 无损压缩技术](#lossless-compression-techniques--无损压缩技术)
4. [Lossy Compression Techniques | 有损压缩技术](#lossy-compression-techniques--有损压缩技术)
5. [Image Compression Standards | 图像压缩标准](#image-compression-standards--图像压缩标准)
6. [Video Compression Standards | 视频压缩标准](#video-compression-standards--视频压缩标准)
7. [Audio Compression Standards | 音频压缩标准](#audio-compression-standards--音频压缩标准)
8. [Compression Quality Evaluation | 压缩质量评估](#compression-quality-evaluation--压缩质量评估)
9. [Practical Applications | 实际应用](#practical-applications--实际应用)
10. [Exam Focus Points | 考试要点](#exam-focus-points--考试要点)
11. [References | 参考资料](#references--参考资料)

---

## Introduction | 概述

### What is Multimedia Data Compression? | 什么是多媒体数据压缩?

**English:**

**Multimedia data compression** is the process of encoding information using fewer bits than the original representation. It is essential for efficient storage and transmission of digital media content including images, videos, and audio.

**Key Objectives**:
- **Reduce Storage Space**: Minimize the amount of disk space required
- **Decrease Transmission Time**: Enable faster data transfer over networks
- **Maintain Quality**: Preserve acceptable quality for human perception
- **Enable Real-time Processing**: Support live streaming and real-time communication

**Importance in Modern Systems**:
1. **Internet Bandwidth**: Enable HD/4K video streaming over limited bandwidth
2. **Mobile Devices**: Reduce data usage and storage requirements
3. **Cloud Storage**: Minimize storage costs for large media libraries
4. **Broadcasting**: Enable digital TV and radio transmission
5. **Social Media**: Handle billions of photos and videos daily

**中文:**

**多媒体数据压缩**是使用比原始表示更少的比特来编码信息的过程。它对于数字媒体内容(包括图像、视频和音频)的高效存储和传输至关重要。

**主要目标**:
- **减少存储空间**: 最小化所需的磁盘空间
- **减少传输时间**: 实现网络上更快的数据传输
- **保持质量**: 为人类感知保留可接受的质量
- **实现实时处理**: 支持直播流和实时通信

**在现代系统中的重要性**:
1. **互联网带宽**: 在有限带宽上实现高清/4K视频流
2. **移动设备**: 减少数据使用和存储需求
3. **云存储**: 最小化大型媒体库的存储成本
4. **广播**: 实现数字电视和广播传输
5. **社交媒体**: 每天处理数十亿张照片和视频

### Basic Concepts | 基本概念

**English:**

**1. Compression Ratio**

```
Compression Ratio = Original Size / Compressed Size
```

Example:
- Original file: 10 MB
- Compressed file: 1 MB
- Compression ratio: 10:1

**2. Bit Rate**

The amount of data processed per unit of time, measured in bits per second (bps).

```
Bit Rate = File Size / Duration
```

**3. Quality vs. Compression Trade-off**

```
High Quality ←→ High Compression
Large File Size ←→ Small File Size
```

**中文:**

**1. 压缩比**

```
压缩比 = 原始大小 / 压缩后大小
```

示例:
- 原始文件: 10 MB
- 压缩文件: 1 MB
- 压缩比: 10:1

**2. 比特率**

每单位时间处理的数据量，以每秒比特数(bps)为单位。

```
比特率 = 文件大小 / 时长
```

**3. 质量与压缩的权衡**

```
高质量 ←→ 高压缩
大文件 ←→ 小文件
```

---

## Fundamentals of Data Compression | 数据压缩基础

### Types of Data Redundancy | 数据冗余类型

**English:**

Data compression exploits various types of redundancy in multimedia data:

**1. Spatial Redundancy (空间冗余)**

Correlation between neighboring pixels in an image.

Example:
```
Image region: [100, 102, 101, 99, 100, 101] 
Similar values → High spatial redundancy → Good compression potential
```

**2. Temporal Redundancy (时间冗余)**

Correlation between consecutive frames in video.

```
Frame 1: [Background + Person]
Frame 2: [Background + Person moved slightly]
         └─ Most pixels unchanged → High temporal redundancy
```

**3. Spectral Redundancy (频谱冗余)**

Correlation between different color bands or frequency components.

**4. Psychovisual Redundancy (视觉冗余)**

Information that is not perceptible to human vision:
- High-frequency details
- Subtle color variations
- Information in dark/bright regions

**5. Psychoacoustic Redundancy (听觉冗余)**

Sounds that are masked or not perceptible to human hearing:
- Frequencies below 20 Hz or above 20 kHz
- Sounds masked by louder sounds
- Quiet sounds in noisy environments

**中文:**

数据压缩利用多媒体数据中的各种冗余:

**1. 空间冗余**

图像中相邻像素之间的相关性。

示例:
```
图像区域: [100, 102, 101, 99, 100, 101]
相似值 → 高空间冗余 → 良好的压缩潜力
```

**2. 时间冗余**

视频中连续帧之间的相关性。

```
帧1: [背景 + 人物]
帧2: [背景 + 人物轻微移动]
      └─ 大多数像素未改变 → 高时间冗余
```

**3. 频谱冗余**

不同颜色带或频率分量之间的相关性。

**4. 视觉冗余**

人类视觉无法感知的信息:
- 高频细节
- 细微的颜色变化
- 暗/亮区域中的信息

**5. 听觉冗余**

被遮蔽或人耳无法感知的声音:
- 20 Hz以下或20 kHz以上的频率
- 被更响声音遮蔽的声音
- 嘈杂环境中的安静声音

### Compression Categories | 压缩类别

**English:**

| Category<br/>类别         | Description<br/>描述                           | Reconstruction<br/>重建           | Applications<br/>应用                                    | Examples<br/>示例 |
| ------------------------- | ---------------------------------------------- | --------------------------------- | -------------------------------------------------------- | ----------------- |
| **Lossless**<br/>**无损** | Exact reconstruction possible<br/>可以精确重建 | Perfect<br/>完美                  | Medical imaging, text, archives<br/>医学影像、文本、存档 | PNG, FLAC, ZIP    |
| **Lossy**<br/>**有损**    | Approximate reconstruction<br/>近似重建        | Acceptable quality<br/>可接受质量 | Photos, videos, music<br/>照片、视频、音乐               | JPEG, MP3, H.264  |

**Comparison**:

```
Lossless Compression:
Original Data → Encoder → Compressed Data → Decoder → Original Data
                                                        (100% identical)

Lossy Compression:
Original Data → Encoder → Compressed Data → Decoder → Reconstructed Data
                                                        (Similar, not identical)
```

**中文:**

无损压缩和有损压缩的对比如上表所示。

**对比**:

```
无损压缩:
原始数据 → 编码器 → 压缩数据 → 解码器 → 原始数据
                                          (100%相同)

有损压缩:
原始数据 → 编码器 → 压缩数据 → 解码器 → 重建数据
                                          (相似但不相同)
```

### Information Theory Basics | 信息论基础

**English:**

**Shannon Entropy (香农熵)**

The entropy H of a source is the minimum average number of bits needed to encode it:

```
H = -Σ P(xi) × log₂ P(xi)
```

Where:
- P(xi) = probability of symbol xi
- H = entropy in bits per symbol

**Example**:

Consider a source with 4 symbols:
- A: P(A) = 0.5
- B: P(B) = 0.25
- C: P(C) = 0.125
- D: P(D) = 0.125

```
H = -(0.5×log₂0.5 + 0.25×log₂0.25 + 0.125×log₂0.125 + 0.125×log₂0.125)
H = -(0.5×(-1) + 0.25×(-2) + 0.125×(-3) + 0.125×(-3))
H = 0.5 + 0.5 + 0.375 + 0.375 = 1.75 bits/symbol
```

**Practical Implication**:
- Uniform distribution: High entropy → Poor compression
- Skewed distribution: Low entropy → Good compression

**中文:**

**香农熵**

源的熵H是编码它所需的最小平均比特数:

```
H = -Σ P(xi) × log₂ P(xi)
```

其中:
- P(xi) = 符号xi的概率
- H = 每符号的熵(比特)

**示例**:

考虑具有4个符号的源:
- A: P(A) = 0.5
- B: P(B) = 0.25
- C: P(C) = 0.125
- D: P(D) = 0.125

计算如上所示，H = 1.75 比特/符号。

**实际意义**:
- 均匀分布: 高熵 → 压缩效果差
- 倾斜分布: 低熵 → 压缩效果好

---

## Lossless Compression Techniques | 无损压缩技术

### Run-Length Encoding (RLE) | 行程编码

**English:**

**Principle**: Replace sequences of identical values with a count and single value.

**Example**:

```
Original: AAAABBBCCDAA
Encoded:  4A3B2C1D2A

Original size: 12 characters
Compressed size: 10 characters (not effective for this example)

Better example:
Original: AAAAAAAAAAABBCCCCCCC
Encoded:  11A2B7C
Original: 20 characters
Compressed: 7 characters → 65% compression
```

**Algorithm**:

```python
def rle_encode(data):
    encoded = []
    count = 1
    for i in range(1, len(data)):
        if data[i] == data[i-1]:
            count += 1
        else:
            encoded.append(f"{count}{data[i-1]}")
            count = 1
    encoded.append(f"{count}{data[-1]}")
    return ''.join(encoded)
```

**Applications**:
- **Fax machines**: Black and white document transmission
- **BMP files**: Simple image compression
- **Video keyframes**: Compressing solid color regions

**Advantages**:
- Simple to implement
- Fast encoding/decoding
- Effective for data with many consecutive repeating values

**Disadvantages**:
- Ineffective for random data
- May increase size if no repetitions exist

**中文:**

**原理**: 用计数和单个值替换相同值的序列。

**示例**:

如上所示，通过示例说明了RLE编码的工作原理。

**算法**:

如上所示的Python代码实现。

**应用**:
- **传真机**: 黑白文档传输
- **BMP文件**: 简单图像压缩
- **视频关键帧**: 压缩纯色区域

**优点**:
- 实现简单
- 编解码快速
- 对具有连续重复值的数据有效

**缺点**:
- 对随机数据无效
- 如果没有重复可能增加大小

### Huffman Encoding | 霍夫曼编码

**English:**

**Principle**: Assign variable-length codes to symbols based on their frequency. More frequent symbols get shorter codes.

**Algorithm Steps**:

1. Calculate frequency of each symbol
2. Create a priority queue (min-heap) of nodes
3. Build Huffman tree by merging lowest frequency nodes
4. Assign codes: left edge = 0, right edge = 1

**Example**:

```
Text: "ABRACADABRA"

Step 1: Frequency count
A: 5, B: 2, R: 2, C: 1, D: 1

Step 2: Build tree
         (11)
        /    \
      A(5)   (6)
            /   \
          (3)   (3)
         / \    / \
       B(2) R(2) C(1) D(1)

Step 3: Assign codes
A: 0
B: 100
R: 101
C: 110
D: 111

Step 4: Encode
Original: ABRACADABRA (11 characters × 8 bits = 88 bits with ASCII)
Encoded:  0-100-101-0-110-0-111-0-100-101-0
          = 23 bits

Compression ratio: 88/23 = 3.83:1
```

**Huffman Code Table**:

| Symbol<br/>符号 | Frequency<br/>频率 | Fixed Code (8-bit)<br/>固定编码 | Huffman Code<br/>霍夫曼编码 | Bits Saved<br/>节省比特 |
| --------------- | ------------------ | ------------------------------- | --------------------------- | ----------------------- |
| A               | 5                  | 01000001                        | 0                           | 7 per occurrence        |
| B               | 2                  | 01000010                        | 100                         | 5 per occurrence        |
| R               | 2                  | 01010010                        | 101                         | 5 per occurrence        |
| C               | 1                  | 01000011                        | 110                         | 5 per occurrence        |
| D               | 1                  | 01000100                        | 111                         | 5 per occurrence        |

**Properties**:
- **Prefix-free**: No code is a prefix of another
- **Optimal**: Achieves minimum average code length
- **Unique decoding**: Can be decoded unambiguously

**中文:**

**原理**: 根据符号的频率为其分配可变长度的码。更频繁的符号获得更短的码。

**算法步骤**:

1. 计算每个符号的频率
2. 创建节点的优先队列(最小堆)
3. 通过合并最低频率节点构建霍夫曼树
4. 分配码: 左边缘=0，右边缘=1

**示例**:

如上所示的完整示例，压缩比为3.83:1。

**特性**:
- **无前缀**: 没有码是另一个码的前缀
- **最优**: 实现最小平均码长
- **唯一解码**: 可以明确解码

### Arithmetic Coding | 算术编码

**English:**

**Principle**: Represent the entire message as a single number in the interval [0, 1).

**Advantages over Huffman**:
- Can achieve better compression (closer to entropy limit)
- No need to use integer number of bits per symbol
- Better for adaptive models

**Example**:

```
Symbols: A, B, C
Probabilities: P(A)=0.5, P(B)=0.3, P(C)=0.2

Initial interval: [0, 1)
Subdivide based on probabilities:
A: [0.0, 0.5)
B: [0.5, 0.8)
C: [0.8, 1.0)

Encode "ABA":
Start: [0, 1)

Step 1: 'A' → [0.0, 0.5)
Step 2: 'B' → [0.25, 0.40)    [0.0 + 0.5×0.5, 0.0 + 0.5×0.8)
Step 3: 'A' → [0.25, 0.325)   [0.25 + 0.15×0.0, 0.25 + 0.15×0.5)

Final interval: [0.25, 0.325)
Can send any number in this interval, e.g., 0.3
```

**Decoding Process**:

```
Received: 0.3
Interval: [0, 1)

Step 1: 0.3 in [0.0, 0.5) → 'A'
        Update interval to [0.0, 0.5)
        Normalize: (0.3-0.0)/(0.5-0.0) = 0.6

Step 2: 0.6 in [0.5, 0.8) → 'B'
        Update interval to [0.5, 0.8)
        Normalize: (0.6-0.5)/(0.8-0.5) = 0.333

Step 3: 0.333 in [0.0, 0.5) → 'A'

Decoded: "ABA"
```

**Applications**:
- **JPEG compression**: Part of JBIG standard
- **Video codecs**: CABAC in H.264
- **Archive utilities**: 7-Zip, PAQ

**中文:**

**原理**: 将整个消息表示为区间[0,1)中的单个数字。

**相比霍夫曼的优势**:
- 可以实现更好的压缩(接近熵极限)
- 无需为每个符号使用整数比特数
- 更适合自适应模型

**示例**:

如上所示的完整编码和解码示例。

**应用**:
- **JPEG压缩**: JBIG标准的一部分
- **视频编解码器**: H.264中的CABAC
- **归档工具**: 7-Zip、PAQ

### LZW (Lempel-Ziv-Welch) Algorithm | LZW算法

**English:**

**Principle**: Build a dictionary of sequences encountered in the data and replace them with codes.

**Algorithm**:

```python
def lzw_compress(data):
    # Initialize dictionary with single characters
    dictionary = {chr(i): i for i in range(256)}
    dict_size = 256
    
    result = []
    current = ""
    
    for char in data:
        combined = current + char
        if combined in dictionary:
            current = combined
        else:
            result.append(dictionary[current])
            dictionary[combined] = dict_size
            dict_size += 1
            current = char
    
    if current:
        result.append(dictionary[current])
    
    return result

# Example
text = "TOBEORNOTTOBEORTOBEORNOT"
compressed = lzw_compress(text)
```

**Example Execution**:

```
Input: "ABABABABA"

Initial dictionary: {A:65, B:66, ...}

Step-by-step:
| Position | Input | Current | Output | Add to Dict        |
| -------- | ----- | ------- | ------ | ------------------ |
| 1        | A     | -       | -      | -                  |
| 2        | B     | A       | 65     | AB:256             |
| 3        | A     | B       | 66     | BA:257             |
| 4        | B     | A       | 65     | AB already exists  |
| 5        | A     | AB      | 256    | ABA:258            |
| 6        | B     | A       | 65     | AB already exists  |
| 7        | A     | AB      | 256    | ABA already exists |
| 8        | B     | ABA     | 258    | ABAB:259           |
| 9        | A     | B       | 66     | BA already exists  |

Output: [65, 66, 65, 256, 65, 256, 258, 66]
```

**Applications**:
- **GIF images**: Standard compression method
- **TIFF files**: Optional compression
- **Unix compress**: File compression utility
- **PDF files**: Stream compression

**Advantages**:
- No need to store dictionary (can be rebuilt during decompression)
- Adapts to input data characteristics
- Good for text and repetitive data

**Disadvantages**:
- Dictionary size grows over time
- May need to reset dictionary for very long inputs
- Not optimal for all data types

**中文:**

**原理**: 构建数据中遇到的序列字典，并用代码替换它们。

**算法**:

如上所示的Python实现。

**示例执行**:

如上所示的详细步骤表。

**应用**:
- **GIF图像**: 标准压缩方法
- **TIFF文件**: 可选压缩
- **Unix compress**: 文件压缩工具
- **PDF文件**: 流压缩

**优点**:
- 无需存储字典(可在解压缩时重建)
- 适应输入数据特征
- 对文本和重复数据效果好

**缺点**:
- 字典大小随时间增长
- 对于很长的输入可能需要重置字典
- 不是对所有数据类型都最优

---

## Lossy Compression Techniques | 有损压缩技术

### Transform Coding | 变换编码

**English:**

**Principle**: Transform spatial domain data to frequency domain, where energy is concentrated in fewer coefficients.

**Common Transforms**:

**1. Discrete Cosine Transform (DCT)**

```
F(u,v) = C(u)C(v)/4 × Σ Σ f(x,y) cos[(2x+1)uπ/16] cos[(2y+1)vπ/16]
                     x=0 y=0

Where:
- f(x,y): input pixel value
- F(u,v): DCT coefficient
- C(u), C(v): normalization factors
```

**DCT Properties**:
- Energy compaction: Most energy in low frequencies
- Basis images: Represent image as weighted sum
- Separable: Can apply 1D DCT in two passes

**Example: 8×8 DCT Block**:

```
Original pixel values (8×8 block):
[52 55 61 66 70 61 64 73]
[63 59 55 90 109 85 69 72]
[62 59 68 113 144 104 66 73]
[63 58 71 122 154 106 70 69]
[67 61 68 104 126 88 68 70]
[79 65 60 70 77 68 58 75]
[85 71 64 59 55 61 65 83]
[87 79 69 68 65 76 78 94]

After DCT:
[630.0  -21.5  -12.1   2.8   0.3  -1.2   0.5   0.2]
[-48.3   11.2    8.7  -3.1  -1.0   0.8  -0.3   0.1]
[-15.7    7.5   -0.2  -2.1   0.5   0.3  -0.2   0.0]
[  8.1   -2.3   -0.8   1.2  -0.3   0.1   0.0   0.0]
[  1.2   -0.5    0.3  -0.2   0.1   0.0   0.0   0.0]
[ -0.8    0.3   -0.1   0.0   0.0   0.0   0.0   0.0]
[  0.3   -0.1    0.0   0.0   0.0   0.0   0.0   0.0]
[  0.1    0.0    0.0   0.0   0.0   0.0   0.0   0.0]

Note: Energy concentrated in top-left (low frequencies)
```

**2. Discrete Wavelet Transform (DWT)**

```
Image → DWT → [LL | HL]
               [----+----]
               [LH | HH]

LL: Low-Low (approximation)
HL: High-Low (horizontal details)
LH: Low-High (vertical details)
HH: High-High (diagonal details)
```

**Wavelet Properties**:
- Multi-resolution analysis
- Better for images with sharp edges
- Used in JPEG2000

**Comparison: DCT vs. DWT**

| Feature<br/>特征           | DCT                        | DWT                                         |
| -------------------------- | -------------------------- | ------------------------------------------- |
| Block-based<br/>基于块     | Yes (8×8 or 16×16)<br/>是  | No (whole image)<br/>否                     |
| Edge handling<br/>边缘处理 | Block artifacts<br/>块效应 | Better<br/>更好                             |
| Complexity<br/>复杂度      | Lower<br/>较低             | Higher<br/>较高                             |
| Applications<br/>应用      | JPEG, MPEG<br/>JPEG, MPEG  | JPEG2000<br/>JPEG2000                       |
| Compression<br/>压缩       | Good<br/>好                | Better at high compression<br/>高压缩时更好 |

**中文:**

**原理**: 将空间域数据转换到频域，其中能量集中在更少的系数中。

**常见变换**:

**1. 离散余弦变换(DCT)**

如上所示的公式和8×8块示例。

**DCT特性**:
- 能量集中: 大部分能量在低频
- 基础图像: 将图像表示为加权和
- 可分离: 可以两次应用1D DCT

**2. 离散小波变换(DWT)**

如上所示的分解结构。

**小波特性**:
- 多分辨率分析
- 对具有尖锐边缘的图像更好
- 用于JPEG2000

**对比: DCT vs. DWT**

如上表所示。

### Quantization | 量化

**English:**

**Principle**: Reduce the precision of DCT/DWT coefficients to achieve compression.

**Quantization Process**:

```
Quantized_Value = round(DCT_Coefficient / Quantization_Step)
```

**Example**:

```
DCT coefficients:
[630, -21, -12, 3, 0, -1, 1, 0]

Quantization table (JPEG quality = 50):
[16, 11, 10, 16, 24, 40, 51, 61]

Quantized values:
[630/16, -21/11, -12/10, 3/16, 0/24, -1/40, 1/51, 0/61]
= [39, -2, -1, 0, 0, 0, 0, 0]

Dequantized (reconstructed):
[39×16, -2×11, -1×10, 0×16, 0×24, 0×40, 0×51, 0×61]
= [624, -22, -10, 0, 0, 0, 0, 0]

Error: [6, 1, -2, 3, 0, -1, 1, 0]
```

**Quantization Strategies**:

**1. Uniform Quantization (均匀量化)**
```
All coefficients use same step size
Q = Δ (constant)
```

**2. Non-uniform Quantization (非均匀量化)**
```
Different step sizes for different coefficients
Q = [q₀, q₁, q₂, ..., qₙ]
```

**3. Adaptive Quantization (自适应量化)**
```
Adjust quantization based on:
- Local image characteristics
- Human visual sensitivity
- Target bit rate
```

**JPEG Quantization Table Example**:

```
Luminance (Y) quantization matrix (quality = 50):
[16  11  10  16  24  40  51  61]
[12  12  14  19  26  58  60  55]
[14  13  16  24  40  57  69  56]
[14  17  22  29  51  87  80  62]
[18  22  37  56  68  109 103 77]
[24  35  55  64  81  104 113 92]
[49  64  78  87  103 121 120 101]
[72  92  95  98  112 100 103 99]

Properties:
- Smaller values in top-left (low frequencies - more important)
- Larger values in bottom-right (high frequencies - less important)
- Perceptual weighting based on human vision
```

**Impact of Quantization**:

| Quantization Level<br/>量化级别 | File Size<br/>文件大小 | Image Quality<br/>图像质量 | Use Case<br/>使用场景                      |
| ------------------------------- | ---------------------- | -------------------------- | ------------------------------------------ |
| Fine (Q=90-100)<br/>精细        | Large<br/>大           | Excellent<br/>优秀         | Professional photography<br/>专业摄影      |
| Medium (Q=75-85)<br/>中等       | Medium<br/>中等        | Very good<br/>很好         | Web images, general use<br/>网页图像、通用 |
| Coarse (Q=50-70)<br/>粗糙       | Small<br/>小           | Good<br/>良好              | Thumbnails, previews<br/>缩略图、预览      |
| Very coarse (Q<50)<br/>很粗糙   | Very small<br/>很小    | Poor<br/>差                | Low bandwidth, MMS<br/>低带宽、彩信        |

**中文:**

**原理**: 降低DCT/DWT系数的精度以实现压缩。

**量化过程**:

如上所示的公式和完整示例。

**量化策略**:

**1. 均匀量化**: 所有系数使用相同的步长
**2. 非均匀量化**: 不同系数使用不同的步长
**3. 自适应量化**: 根据局部特征调整量化

**JPEG量化表示例**:

如上所示的8×8亮度量化矩阵。

**量化的影响**:

如上表所示不同量化级别的对比。

### Predictive Coding | 预测编码

**English:**

**Principle**: Predict current value from previous values, encode only the prediction error (residual).

**Basic Prediction Model**:

```
Predicted_Value = f(Previous_Values)
Residual = Actual_Value - Predicted_Value

Encoded: Residual (usually smaller than original value)
```

**Types of Prediction**:

**1. Intra Prediction (帧内预测)**

Predict pixels from neighboring pixels in the same image/frame.

```
Current pixel
    ↓
[A | B | C | D]
[E | X | ? | ?]   X: pixel to predict
[F | ? | ? | ?]   A,B,C,D,E,F: reference pixels
[G | ? | ? | ?]
```

**H.264 Intra Prediction Modes (4×4 block)**:

```
Mode 0: Vertical     [↓↓↓↓]
Mode 1: Horizontal   [→→→→]
Mode 2: DC (average) [====]
Mode 3: Diagonal ↘   [\\\\\]
Mode 4: Diagonal ↙   [////]
Mode 5: Vertical-right
Mode 6: Horizontal-down
Mode 7: Vertical-left
Mode 8: Horizontal-up
```

**2. Inter Prediction (帧间预测)**

Predict current frame from previous/future frames.

```
Frame t-1  →  Search for best match  →  Motion vector + Residual
Frame t    ←  Reconstruct             ←  Apply motion + Add residual
```

**Motion Estimation Example**:

```
Reference Frame (t-1):      Current Frame (t):
┌──────────────────┐        ┌──────────────────┐
│                  │        │                  │
│    [Object]      │        │       [Object]   │  Object moved →
│                  │        │                  │
└──────────────────┘        └──────────────────┘

Motion Vector: (Δx=+3, Δy=0)
Residual: Small (object similar in both frames)

Encoded data = Motion Vector + Residual
Much smaller than encoding entire block
```

**3. Differential Pulse Code Modulation (DPCM)**

```
Original:  [100, 102, 101, 103, 105, 104, 106]
Predicted: [100, 100, 102, 101, 103, 105, 104]
Residual:  [  0,   2,  -1,   2,   2,  -1,   2]

Original range: 100-106 (3 bits needed)
Residual range: -2 to 2 (2-3 bits needed)
Compression achieved!
```

**Benefits**:
- Exploits temporal/spatial correlation
- Residuals have smaller dynamic range
- Better compression than direct encoding
- Foundation of modern video codecs

**中文:**

**原理**: 从先前值预测当前值，仅编码预测误差(残差)。

**基本预测模型**:

如上所示的公式。

**预测类型**:

**1. 帧内预测**

从同一图像/帧中的相邻像素预测像素。

H.264帧内预测模式如上所示，包括垂直、水平、DC平均、对角线等9种模式。

**2. 帧间预测**

从先前/未来帧预测当前帧。

运动估计示例如上所示，通过运动矢量和残差来表示帧间变化。

**3. 差分脉冲编码调制(DPCM)**

如上所示的示例，通过编码残差而不是原始值来实现压缩。

**优点**:
- 利用时间/空间相关性
- 残差具有较小的动态范围
- 比直接编码更好的压缩
- 现代视频编解码器的基础

---

## Image Compression Standards | 图像压缩标准

### JPEG (Joint Photographic Experts Group)

**English:**

**Overview**:
- Most widely used lossy image compression standard
- Developed in 1992
- Based on DCT transform
- Excellent for photographs and natural images

**JPEG Encoding Pipeline**:

```
Input RGB Image
    ↓
Color Space Conversion (RGB → YCbCr)
    ↓
Chroma Subsampling (4:2:0 or 4:2:2)
    ↓
Block Division (8×8 blocks)
    ↓
DCT Transform (for each block)
    ↓
Quantization (using Q-table)
    ↓
Zig-zag Scan (linearize 2D coefficients)
    ↓
Entropy Coding (Huffman or Arithmetic)
    ↓
JPEG Bitstream
```

**Detailed Steps**:

**1. Color Space Conversion**

```
Y  = 0.299R + 0.587G + 0.114B      (Luminance)
Cb = -0.169R - 0.331G + 0.500B     (Blue chrominance)
Cr = 0.500R - 0.419G - 0.081B      (Red chrominance)
```

**Why YCbCr?**
- Human vision more sensitive to luminance than chrominance
- Can subsample chrominance without noticeable quality loss

**2. Chroma Subsampling**

```
4:4:4 (No subsampling)        4:2:2 (Horizontal 2:1)      4:2:0 (2:1 in both)
Y Y Y Y                       Y Y Y Y                     Y Y Y Y
Y Y Y Y                       Y Y Y Y                     Y Y Y Y
Cb Cb Cb Cb                   Cb   Cb                     Cb   Cb
Cr Cr Cr Cr                   Cr   Cr                     Cr   Cr
                                                          Y Y Y Y
                                                          Y Y Y Y
                                                          (same Cb, Cr)

Size:   100%                  Size: ~67%                  Size: ~50%
Quality: Best                 Quality: Very good          Quality: Good
```

**3. DCT and Quantization**

As described in the Transform Coding section.

**4. Zig-zag Scanning**

```
DCT Coefficient Matrix:         Zig-zag Order:
[DC  1  5  6  ...]             DC → 1 → 2 → 3 → 4 → 5 ...
[ 2  4  7  ...]                          ↓   ↗   ↓   ↗
[ 3  8  ...]                             (low freq → high freq)
[ 9  ...]
```

Purpose: Group low-frequency coefficients together, high-frequency (often zero) at end.

**5. Entropy Coding**

```
DC coefficients: DPCM + Huffman
AC coefficients: Run-length + Huffman

Example:
[39, -2, -1, 0, 0, 0, 0, 0, 0, 0, ...]
         └─ 7 zeros ─┘

Encoded as: (7,0) meaning "skip 7 zeros, then EOB"
```

**JPEG Quality Settings**:

| Quality<br/>质量 | Compression Ratio<br/>压缩比 | File Size (1MB original)<br/>文件大小 | Visual Quality<br/>视觉质量 | Typical Use<br/>典型用途 |
| ---------------- | ---------------------------- | ------------------------------------- | --------------------------- | ------------------------ |
| 100              | 5:1                          | ~200 KB                               | Excellent                   | Professional work        |
| 90               | 10:1                         | ~100 KB                               | Excellent                   | High quality web         |
| 80               | 15:1                         | ~67 KB                                | Very good                   | Standard web             |
| 70               | 20:1                         | ~50 KB                                | Good                        | Email, sharing           |
| 50               | 30:1                         | ~33 KB                                | Acceptable                  | Thumbnails               |
| 30               | 50:1                         | ~20 KB                                | Poor                        | Low bandwidth only       |

**JPEG Limitations**:
- **Block artifacts**: Visible 8×8 blocks at high compression
- **Ringing artifacts**: Oscillations near sharp edges
- **Not suitable for**: Text, line drawings, logos
- **No transparency**: Cannot store alpha channel
- **Single image**: No animation support

**中文:**

**概述**:
- 使用最广泛的有损图像压缩标准
- 1992年开发
- 基于DCT变换
- 非常适合照片和自然图像

**JPEG编码流程**:

如上所示的完整管道。

**详细步骤**:

**1. 色彩空间转换**: RGB转YCbCr
**2. 色度子采样**: 4:4:4/4:2:2/4:2:0
**3. DCT和量化**: 如变换编码部分所述
**4. 之字形扫描**: 将低频系数聚集在一起
**5. 熵编码**: 霍夫曼或算术编码

**JPEG质量设置**:

如上表所示不同质量级别的对比。

**JPEG局限性**:
- **块效应**: 高压缩时可见8×8块
- **振铃伪影**: 尖锐边缘附近的振荡
- **不适合**: 文本、线条图、徽标
- **无透明度**: 不能存储alpha通道
- **单图像**: 不支持动画

### PNG (Portable Network Graphics)

**English:**

**Overview**:
- Lossless image compression format
- Developed in 1996 as GIF replacement
- Supports transparency (alpha channel)
- Better compression than GIF for most images

**PNG Features**:

| Feature<br/>特征        | PNG-8                  | PNG-24            | PNG-32                     |
| ----------------------- | ---------------------- | ----------------- | -------------------------- |
| Colors<br/>颜色数       | 256                    | 16.7 million      | 16.7 million               |
| Color depth<br/>色深    | 8-bit indexed          | 24-bit RGB        | 24-bit RGB                 |
| Transparency<br/>透明度 | Binary (yes/no)        | Not supported     | 8-bit alpha                |
| File size<br/>文件大小  | Smallest               | Medium            | Largest                    |
| Use case<br/>用例       | Icons, simple graphics | Photos (lossless) | Graphics with transparency |

**PNG Encoding Process**:

```
Raw Image Data
    ↓
Filtering (optional, per scanline)
    ├─ None (0)
    ├─ Sub (1)
    ├─ Up (2)
    ├─ Average (3)
    └─ Paeth (4)
    ↓
DEFLATE Compression (LZ77 + Huffman)
    ↓
Chunk Structure (IHDR, IDAT, IEND, etc.)
    ↓
PNG File
```

**PNG Filters**:

Purpose: Make data more compressible by predicting pixel values.

```
Scanline: [A | X]   A: left pixel, X: current pixel
          [B | ]    B: above pixel

Filter 0 (None):    X' = X
Filter 1 (Sub):     X' = X - A
Filter 2 (Up):      X' = X - B
Filter 3 (Average): X' = X - floor((A + B) / 2)
Filter 4 (Paeth):   X' = X - PaethPredictor(A, B, C)

where C is the upper-left pixel
```

**Advantages**:
- **Lossless**: Perfect reconstruction
- **Transparency**: Full alpha channel support
- **Progressive**: Can load progressively
- **Metadata**: Can store text, timestamps, etc.
- **No patents**: Completely free

**Disadvantages**:
- **Large files**: Bigger than JPEG for photos
- **No animation**: (but see APNG extension)
- **Slower encoding**: More CPU intensive

**When to use PNG**:
- Screenshots
- Graphics with text
- Logos and icons
- Images requiring transparency
- Images that will be edited multiple times
- Diagrams and charts

**中文:**

**概述**:
- 无损图像压缩格式
- 1996年开发作为GIF替代品
- 支持透明度(alpha通道)
- 对大多数图像比GIF压缩更好

**PNG特性**:

如上表所示PNG-8、PNG-24、PNG-32的对比。

**PNG编码过程**:

如上所示，包括滤波和DEFLATE压缩。

**PNG滤波器**:

通过预测像素值使数据更可压缩，包括5种滤波器类型。

**优点**:
- **无损**: 完美重建
- **透明度**: 完整alpha通道支持
- **渐进式**: 可以渐进加载
- **元数据**: 可以存储文本、时间戳等
- **无专利**: 完全免费

**缺点**:
- **大文件**: 照片比JPEG大
- **无动画**: (但有APNG扩展)
- **编码较慢**: CPU密集

**何时使用PNG**:
- 截图、带文本的图形、徽标和图标
- 需要透明度的图像
- 将多次编辑的图像
- 图表和示意图

### WebP

**English:**

**Overview**:
- Modern image format developed by Google (2010)
- Supports both lossy and lossless compression
- Supports transparency and animation
- 25-35% better compression than JPEG/PNG

**WebP Modes**:

| Mode<br/>模式 | Based on<br/>基于 | Compression<br/>压缩     | Transparency<br/>透明度 | Animation<br/>动画 | Use Case<br/>用例  |
| ------------- | ----------------- | ------------------------ | ----------------------- | ------------------ | ------------------ |
| Lossy         | VP8 video codec   | ~25-35% better than JPEG | Yes                     | Yes                | Photos, web images |
| Lossless      | Predictive coding | ~26% better than PNG     | Yes                     | Yes                | Graphics, logos    |

**WebP Lossy Encoding**:

```
Input Image
    ↓
Predictive Coding (16 intra-prediction modes)
    ↓
DCT Transform (4×4 blocks)
    ↓
Quantization
    ↓
Arithmetic Coding
    ↓
WebP Bitstream
```

**WebP vs. JPEG vs. PNG**:

```
Test Image: 1920×1080 photo

Original: 6.2 MB (uncompressed)

JPEG (Q=80):  450 KB  SSIM: 0.94
WebP (Q=80):  325 KB  SSIM: 0.95  (28% smaller, better quality)

PNG:          2.1 MB  (lossless)
WebP:         1.5 MB  (lossless, 29% smaller)
```

**Browser Support** (as of 2024):
- ✓ Chrome/Edge (full support)
- ✓ Firefox (full support)
- ✓ Safari 14+ (full support)
- ✓ Mobile browsers (widely supported)

**Implementation Example**:

```html
<!-- HTML with fallback -->
<picture>
  <source srcset="image.webp" type="image/webp">
  <source srcset="image.jpg" type="image/jpeg">
  <img src="image.jpg" alt="Description">
</picture>
```

**Advantages**:
- **Better compression**: Smaller files than JPEG/PNG
- **Versatile**: Supports lossy, lossless, transparency, animation
- **Modern**: Optimized for web delivery
- **Quality**: Better visual quality at same file size

**Disadvantages**:
- **Encoding time**: Slower to encode than JPEG
- **Limited tools**: Fewer editing tools support WebP
- **Older browser**: Need fallback for old browsers

**中文:**

**概述**:
- Google开发的现代图像格式(2010)
- 支持有损和无损压缩
- 支持透明度和动画
- 比JPEG/PNG压缩好25-35%

**WebP模式**:

如上表所示有损和无损模式的对比。

**WebP编码**:

如上所示的编码流程，基于VP8视频编解码器。

**WebP vs. JPEG vs. PNG**:

如上所示的实际对比，WebP在文件大小和质量上都有优势。

**浏览器支持** (截至2024):
- ✓ Chrome/Edge (完全支持)
- ✓ Firefox (完全支持)
- ✓ Safari 14+ (完全支持)
- ✓ 移动浏览器 (广泛支持)

**优点**:
- **更好的压缩**: 比JPEG/PNG文件更小
- **多功能**: 支持有损、无损、透明度、动画
- **现代**: 为网页交付优化
- **质量**: 相同文件大小下更好的视觉质量

**缺点**:
- **编码时间**: 比JPEG编码慢
- **有限工具**: 支持WebP的编辑工具较少
- **旧浏览器**: 需要为旧浏览器提供回退

### JPEG2000

**English:**

**Overview**:
- Successor to JPEG (released 2000)
- Based on wavelet transform instead of DCT
- Better compression and quality
- Limited adoption due to complexity and patents

**Key Improvements over JPEG**:

| Feature<br/>特征            | JPEG                    | JPEG2000                                  |
| --------------------------- | ----------------------- | ----------------------------------------- |
| Transform<br/>变换          | DCT (8×8 blocks)        | DWT (wavelet, whole image)                |
| Block artifacts<br/>块效应  | Yes at high compression | No                                        |
| Compression<br/>压缩        | Good                    | ~20% better                               |
| Lossless mode<br/>无损模式  | No (baseline)           | Yes                                       |
| ROI coding<br/>ROI编码      | No                      | Yes (encode regions at different quality) |
| Error resilience<br/>容错性 | Poor                    | Good                                      |
| Complexity<br/>复杂度       | Low                     | High                                      |
| Adoption<br/>采用率         | Universal               | Limited (medical, cinema)                 |

**JPEG2000 Features**:

1. **Progressive decoding**: Can decode at multiple resolutions
2. **ROI encoding**: Encode important regions at higher quality
3. **Error resilience**: Better for transmission over noisy channels
4. **Lossless and lossy**: Single framework for both
5. **No block artifacts**: Wavelet-based, smoother at high compression

**Applications**:
- **Medical imaging**: DICOM standard
- **Digital cinema**: DCP (Digital Cinema Package)
- **Archival**: Long-term preservation
- **Satellite imagery**: High-resolution earth observation

**Why limited adoption?**
- Patent issues (until recently)
- Higher computational complexity
- Larger decoder memory requirements
- JPEG "good enough" for most uses
- No browser support by default

**中文:**

**概述**:
- JPEG的继任者(2000年发布)
- 基于小波变换而不是DCT
- 更好的压缩和质量
- 由于复杂性和专利，采用有限

**相比JPEG的主要改进**:

如上表所示的详细对比。

**JPEG2000特性**:

1. **渐进解码**: 可以在多个分辨率下解码
2. **ROI编码**: 以更高质量编码重要区域
3. **容错性**: 更适合噪声信道传输
4. **无损和有损**: 两者的单一框架
5. **无块效应**: 基于小波，高压缩时更平滑

**应用**:
- **医学影像**: DICOM标准
- **数字电影**: DCP(数字电影包)
- **存档**: 长期保存
- **卫星图像**: 高分辨率地球观测

**为什么采用有限?**
- 专利问题(直到最近)
- 更高的计算复杂度
- 更大的解码器内存需求
- JPEG对大多数用途"足够好"
- 默认无浏览器支持

---

## Video Compression Standards | 视频压缩标准

### Fundamentals of Video Compression | 视频压缩基础

**English:**

**Why Video Needs Compression**:

```
Uncompressed HD video (1920×1080, 30fps, 24-bit color):

Data rate = 1920 × 1080 × 3 bytes × 30 fps
          = 186,624,000 bytes/sec
          = 178 MB/sec
          = 10.7 GB/minute
          = 640 GB/hour

With compression (H.264, high quality):
          ≈ 8 Mbps = 1 MB/sec = 60 MB/minute = 3.6 GB/hour
          
Compression ratio: ≈ 178:1
```

**Video Compression Techniques**:

**1. Temporal Redundancy Reduction**

```
Frame Types:

I-frame (Intra):    Complete independent frame (like JPEG)
P-frame (Predicted): Predicted from previous frame(s)
B-frame (Bi-directional): Predicted from past and future frames

GOP Structure example:
I  B  B  P  B  B  P  B  B  P  B  B  I
└─────┴────┴─────┴────┴─────┴────┴─
       GOP (Group of Pictures)
```

**Frame Dependencies**:

```
Display order:  I₀ B₁ B₂ P₃ B₄ B₅ P₆ B₇ B₈ I₉
Coding order:   I₀ P₃ B₁ B₂ P₆ B₄ B₅ I₉ B₇ B₈
                ↑  ↑       ↑       ↑
            Reference frames

B₁, B₂ depend on I₀ and P₃
B₄, B₅ depend on P₃ and P₆
```

**2. Spatial Redundancy Reduction**

Same as image compression: DCT, quantization, entropy coding.

**3. Motion Estimation and Compensation**

```
Current Frame:           Reference Frame:
┌────────────┐          ┌────────────┐
│            │          │   [OBJECT] │
│  [OBJECT]  │ ←─Search─│            │
│            │          │            │
└────────────┘          └────────────┘
     ↓                        ↓
Motion Vector (MV)      Original position

Encoded: MV + Residual (difference between predicted and actual)
```

**Motion Estimation Process**:

```
For each macroblock in current frame:
  1. Search in reference frame(s) for best match
  2. Record motion vector (Δx, Δy)
  3. Calculate residual = Current - Predicted
  4. Encode MV + Residual
  
Search methods:
- Full search: Exhaustive (best quality, slow)
- Diamond search: Fast approximation
- Hierarchical search: Coarse-to-fine
```

**Video Compression Pipeline**:

```
Input Video
    ↓
Frame Type Decision (I/P/B)
    ↓
    ├─ I-frame → Intra Prediction → DCT → Quantization →┐
    ↓                                                     │
    ├─ P-frame → Motion Estimation → Inter Prediction →  │
    │            ↓                                        ├→ Entropy
    │            Residual → DCT → Quantization →────────┘   Coding
    ↓                                                     ↓
    └─ B-frame → Motion Estimation (2 directions)        Bitstream
                 ↓
                 Residual → DCT → Quantization →────────┘
```

**中文:**

**为什么视频需要压缩**:

如上所示的计算，未压缩HD视频需要178 MB/秒，压缩后仅需1 MB/秒，压缩比约178:1。

**视频压缩技术**:

**1. 时间冗余减少**

帧类型:
- I帧(帧内): 完整的独立帧
- P帧(预测): 从先前帧预测
- B帧(双向): 从过去和未来帧预测

**2. 空间冗余减少**

与图像压缩相同: DCT、量化、熵编码。

**3. 运动估计和补偿**

如上所示的示例和搜索方法。

**视频压缩管道**:

如上所示的完整流程图。

### H.264/AVC (Advanced Video Coding)

**English:**

**Overview**:
- Released in 2003 by ITU-T and ISO/IEC
- Most widely deployed video codec
- Foundation for Blu-ray, streaming, broadcasting
- 50% better compression than MPEG-2

**Key Technologies**:

**1. Variable Block Size Motion Compensation**

```
Macroblock (16×16) can be subdivided:

16×16        16×8 | 16×8         8×8  8×8 | 8×8  8×8
                                └──────┴──────┴──────
                                8×16 or 8×8 or 8×4 or 4×8 or 4×4

Total: 7 macroblock partition types
       + 4 sub-macroblock types
       = Flexible motion representation
```

**2. Quarter-Pixel Motion Compensation**

```
Precision levels:
- Integer pixel: Basic
- Half pixel: 6-tap filter interpolation
- Quarter pixel: Bilinear interpolation

Result: More accurate motion vectors → Better prediction → Smaller residuals
```

**3. Intra Prediction**

```
4×4 Luma Modes: 9 directional modes
┌─────────────────────────────┐
│ Mode 0: Vertical (↓)        │
│ Mode 1: Horizontal (→)      │
│ Mode 2: DC (average)        │
│ Mode 3: Diagonal Down-Left  │
│ Mode 4: Diagonal Down-Right │
│ Mode 5: Vertical-Right      │
│ Mode 6: Horizontal-Down     │
│ Mode 7: Vertical-Left       │
│ Mode 8: Horizontal-Up       │
└─────────────────────────────┘

16×16 Luma Modes: 4 modes (for smooth regions)
8×8 Chroma Modes: 4 modes
```

**4. Integer Transform**

```
4×4 integer DCT (not floating-point):
- Exact integer arithmetic
- No mismatch between encoder/decoder
- Faster computation

Also supports 8×8 transform for High Profile
```

**5. In-Loop Deblocking Filter**

```
Purpose: Remove block artifacts

Applied at macroblock boundaries:
Before filter:   |█▓▒░|░▒▓█|   (sharp edge)
After filter:    |█▓▒▒░░▒▓█|   (smooth transition)

Adaptive: Filter strength based on:
- Quantization parameter (QP)
- Block boundary type
- Content characteristics
```

**6. Context-Adaptive Entropy Coding**

Two modes:

**CAVLC** (Context-Adaptive Variable Length Coding):
- Baseline/Main Profile
- Huffman-like variable length codes
- Context-based code selection

**CABAC** (Context-Adaptive Binary Arithmetic Coding):
- Main/High Profile
- 10-15% better compression than CAVLC
- More complex, slower

**7. Multi-Reference Frames**

```
Traditional (MPEG-2): Only previous frame
H.264: Up to 16 reference frames

Benefits:
- Better prediction for complex motion
- Handle occlusion/uncovering
- Multiple texture patterns
```

**H.264 Profiles**:

| Profile<br/>配置 | Features<br/>特性             | Applications<br/>应用       |
| ---------------- | ----------------------------- | --------------------------- |
| **Baseline**     | I/P frames, CAVLC             | Mobile, video conferencing  |
| **Main**         | + B frames, CABAC, interlaced | Broadcasting, standard def  |
| **Extended**     | + SP/SI frames                | Streaming, error resilience |
| **High**         | + 8×8 transform, 4:2:2/4:4:4  | HD broadcasting, Blu-ray    |
| **High 10**      | + 10-bit color                | Professional video          |
| **High 4:2:2**   | + 4:2:2 chroma                | Professional editing        |
| **High 4:4:4**   | + 4:4:4 chroma, lossless      | Studio applications         |

**H.264 Performance**:

```
Video: 1080p30 (1920×1080, 30fps)

Bitrates for different quality levels:
Low quality (streaming):      2-4 Mbps
Medium quality (web):         5-8 Mbps
High quality (Blu-ray):       15-25 Mbps
Very high quality (archive):  30-40 Mbps

Compared to MPEG-2:
Same quality at 50% bitrate
Or much better quality at same bitrate
```

**中文:**

**概述**:
- 2003年由ITU-T和ISO/IEC发布
- 部署最广泛的视频编解码器
- 蓝光、流媒体、广播的基础
- 比MPEG-2压缩好50%

**关键技术**:

**1. 可变块大小运动补偿**: 宏块可细分为多种尺寸
**2. 四分之一像素运动补偿**: 更精确的运动矢量
**3. 帧内预测**: 9种4×4模式、4种16×16模式
**4. 整数变换**: 4×4整数DCT
**5. 环内去块滤波**: 去除块效应
**6. 上下文自适应熵编码**: CAVLC和CABAC两种模式
**7. 多参考帧**: 最多16个参考帧

**H.264配置**:

如上表所示的7种配置及其应用场景。

**H.264性能**:

如上所示，1080p视频在不同质量级别的码率，比MPEG-2在相同质量下节省50%码率。

### H.265/HEVC (High Efficiency Video Coding)

**English:**

**Overview**:
- Released in 2013
- 50% better compression than H.264
- Designed for 4K/8K ultra-high definition
- More complex, higher computational requirements

**Key Improvements over H.264**:

**1. Larger Coding Units**

```
H.264: Fixed 16×16 macroblock
H.265: Variable Coding Tree Unit (CTU)

CTU sizes: 64×64, 32×32, 16×16, or 8×8

Quadtree Partitioning:
64×64 CTU
├─ 32×32 CU
│  ├─ 16×16 CU
│  │  ├─ 8×8 CU
│  │  │  └─ 4×4 PU (Prediction Unit)
│  │  └─ ...
│  └─ ...
└─ ...
```

**2. Enhanced Intra Prediction**

```
H.264: 9 directional modes (4×4)
H.265: 35 directional modes

    33 angular modes (every 5.625°)
  + DC mode (平均)
  + Planar mode (平面)
  = 35 total modes

More precise direction prediction → Better compression
```

**3. Advanced Motion Prediction**

```
Features:
- Advanced Motion Vector Prediction (AMVP)
- Merge mode (inherit MV from neighbors)
- Up to 8 motion vector candidates
- Improved motion vector coding efficiency
```

**4. Larger Transform Sizes**

```
H.264: 4×4 and 8×8 DCT
H.265: 4×4, 8×8, 16×16, and 32×32 DCT

Benefits:
- Better for large smooth areas (sky, walls)
- Adaptive to content
- More efficient for high resolutions
```

**5. Sample Adaptive Offset (SAO)**

```
Purpose: Reduce ringing artifacts and improve quality

Applied after deblocking filter:
Original → Deblocking → SAO → Final output

Types:
- Band offset: Adjust specific intensity ranges
- Edge offset: Enhance edges
```

**6. Parallel Processing Tools**

```
Tiles: Divide frame into rectangular regions
Wavefront Parallel Processing (WPP): Process CTU rows in parallel

┌──────┬──────┬──────┐
│Tile 1│Tile 2│Tile 3│  Can process independently
├──────┼──────┼──────┤
│Tile 4│Tile 5│Tile 6│
└──────┴──────┴──────┘

Enables multi-core encoding/decoding
```

**H.265 Performance Comparison**:

| Resolution<br/>分辨率 | H.264 Bitrate<br/>H.264码率 | H.265 Bitrate<br/>H.265码率 | Savings<br/>节省 |
| --------------------- | --------------------------- | --------------------------- | ---------------- |
| 720p (1280×720)       | 3-5 Mbps                    | 1.5-2.5 Mbps                | 50%              |
| 1080p (1920×1080)     | 8-12 Mbps                   | 4-6 Mbps                    | 50%              |
| 4K UHD (3840×2160)    | 35-50 Mbps                  | 15-25 Mbps                  | 50-57%           |
| 8K UHD (7680×4320)    | 150-200 Mbps                | 60-100 Mbps                 | 50-60%           |

**Encoding Complexity**:

```
Relative encoding time (same quality):
H.264: 1×
H.265: 5-10× (much slower)

Hardware encoding/decoding support:
- Modern GPUs (NVIDIA, AMD, Intel)
- Mobile SoCs (Qualcomm, Apple, Samsung)
- Dedicated chips in Smart TVs
```

**中文:**

**概述**:
- 2013年发布
- 比H.264压缩好50%
- 为4K/8K超高清设计
- 更复杂，更高的计算需求

**相比H.264的主要改进**:

**1. 更大的编码单元**: 64×64 CTU，四叉树分割
**2. 增强的帧内预测**: 35种方向模式
**3. 高级运动预测**: AMVP和合并模式
**4. 更大的变换尺寸**: 最大32×32 DCT
**5. 样本自适应偏移(SAO)**: 减少振铃伪影
**6. 并行处理工具**: 分块和波前并行处理

**H.265性能对比**:

如上表所示，各分辨率下比H.264节省50%码率。

**编码复杂度**:

H.265编码时间是H.264的5-10倍，但现代硬件提供硬件加速支持。

---

## Exam Focus Points | 考试要点

### Common Exam Questions | 常见考题

**English:**

**Question Type 1: Compression Fundamentals**

**Sample Question**:
_"Explain the difference between lossy and lossless compression. Give examples and appropriate use cases for each."_

**Answer Template**:

```
1. Definitions:
   - Lossless: Perfect reconstruction, bit-identical
   - Lossy: Approximate reconstruction, some information lost

2. Key Differences:
   ┌─────────────┬────────────┬────────────┐
   │  Aspect     │  Lossless  │   Lossy    │
   ├─────────────┼────────────┼────────────┤
   │ Quality     │ Perfect    │ Acceptable │
   │ Compression │ Moderate   │ High       │
   │ Use case    │ Archival   │ Delivery   │
   └─────────────┴────────────┴────────────┘

3. Examples:
   Lossless: PNG, FLAC, GZIP
   Lossy: JPEG, MP3, H.264

4. Use Cases:
   Lossless: Medical imaging, text, legal documents
   Lossy: Streaming, social media, broadcasting
```

**Question Type 2: Codec Comparison**

**Sample Question**:
_"Compare H.264 and H.265 video codecs in terms of compression efficiency, computational complexity, and application scenarios."_

**Answer Structure**:

```
1. Compression Efficiency:
   - H.265: 50% better than H.264
   - Enables 4K/8K at reasonable bitrates
   - Same quality at half the bitrate

2. Computational Complexity:
   - H.265: 5-10× more complex encoding
   - Larger coding units (64×64 vs 16×16)
   - 35 intra modes vs 9
   - Requires hardware acceleration

3. Application Scenarios:
   H.264:
   ✓ Maximum compatibility
   ✓ Real-time encoding
   ✓ Legacy devices
   ✓ Live streaming
   
   H.265:
   ✓ 4K/8K UHD content
   ✓ Bandwidth-limited scenarios
   ✓ Storage optimization
   ✓ Future-proofing

4. Patent Considerations:
   - H.264: Mature licensing (MPEG-LA)
   - H.265: Complex multiple patent pools
   - Consider AV1 for royalty-free alternative
```

**Question Type 3: System Architecture**

**Sample Question**:
_"Design a video streaming platform architecture supporting adaptive bitrate streaming for 100,000 concurrent users."_

**Answer Components**:

```
1. Upload & Ingestion:
   ┌─────────────┐
   │  User Upload│─→ Load Balancer ─→ Storage (S3/OSS)
   └─────────────┘

2. Transcoding Pipeline:
   ┌────────────────────────────────┐
   │  Distributed Transcoding       │
   │  (FFmpeg + GPU acceleration)   │
   ├────────────────────────────────┤
   │  Output Profiles:              │
   │  • 360p  @ 0.5 Mbps            │
   │  • 720p  @ 2.5 Mbps            │
   │  • 1080p @ 5.0 Mbps            │
   │  • 4K    @ 15 Mbps             │
   └────────────────────────────────┘

3. ABR Packaging:
   - HLS (m3u8 + ts segments)
   - DASH (mpd + mp4 fragments)
   - 4-6 second segments

4. CDN Distribution:
   ┌────────────┐
   │  Origin    │─→ Multi-tier CDN
   │  Server    │   ├─ Edge nodes (95% traffic)
   └────────────┘   └─ Regional nodes

5. Client-side ABR:
   - Measure bandwidth
   - Select appropriate bitrate
   - Smooth quality transitions
   - Buffer management (10-30s)

6. Scalability Considerations:
   - Horizontal scaling of transcoders
   - Object storage for multi-bitrate files
   - CDN for global distribution
   - Database for metadata
   - Queue system for async processing

7. Optimization Techniques:
   - Preload/prefetch for popular content
   - Geographic CDN selection
   - Thumbnail generation
   - Quality-based routing
```

**Question Type 4: Practical Problem Solving**

**Sample Question**:
_"A video conferencing system experiences poor quality and lag. Suggest compression and network optimization strategies."_

**Problem Analysis & Solutions**:

```
1. Requirements Analysis:
   - Real-time: <300ms end-to-end latency
   - Adaptive: Handle varying bandwidth
   - Quality: Acceptable video/audio
   - Resilient: Packet loss tolerance

2. Codec Selection:
   Video:
   ✓ H.264 baseline (hardware support)
   ✓ VP8/VP9 (WebRTC compatible)
   ✓ Low latency settings (no B-frames)
   ✓ SVC for scalability
   
   Audio:
   ✓ Opus (6-40 kbps, ultra-low latency)
   ✓ Built-in FEC (packet loss concealment)

3. Encoding Optimization:
   - Target bitrate: 500-1500 kbps video
   - Frame rate: 15-30 fps adaptive
   - Resolution: 360p-720p adaptive
   - Keyframe interval: 1-2 seconds

4. Network Optimization:
   - TURN/STUN servers for NAT traversal
   - WebRTC data channels
   - Jitter buffer (20-200ms)
   - Congestion control (GCC, NADA)
   - FEC: Add 10-20% redundancy

5. Adaptive Strategies:
   ┌─────────────┬──────────┬────────────┐
   │  Bandwidth  │  Action  │  Bitrate   │
   ├─────────────┼──────────┼────────────┤
   │  >2 Mbps    │  720p30  │  1.5 Mbps  │
   │  1-2 Mbps   │  480p30  │  800 kbps  │
   │  500k-1M    │  360p15  │  400 kbps  │
   │  <500 kbps  │  Audio   │  32 kbps   │
   └─────────────┴──────────┴────────────┘

6. Implementation Details:
   - Simulcast: Multiple encodings
   - SFU architecture: Selective forwarding
   - NACK: Request retransmission
   - PLI: Picture Loss Indication
   - Quality monitoring: RTT, packet loss, jitter
```

**中文:**

**问题类型1: 压缩基础**

如上所示的答题模板，包括定义、关键差异、示例和使用场景。

**问题类型2: 编解码器对比**

如上所示的答题结构，涵盖压缩效率、计算复杂度、应用场景和专利考虑。

**问题类型3: 系统架构**

如上所示的架构设计答案，包括上传摄取、转码管道、ABR打包、CDN分发、客户端ABR、可扩展性考虑和优化技术。

**问题类型4: 实际问题解决**

如上所示的问题分析和解决方案，包括需求分析、编解码器选择、编码优化、网络优化、自适应策略和实现细节。

### Key Concepts to Remember | 重点记忆概念

**English:**

**1. Compression Ratios**

```
Typical compression ratios to memorize:

Images:
- PNG (lossless): 2-3:1
- JPEG (quality 75): 10-20:1
- WebP (lossy): 25-35% smaller than JPEG

Video:
- Raw HD: ~178:1 needed for streaming
- H.264: 50-200:1 (typical)
- H.265: 100-400:1 (2× better than H.264)
- AV1: 130-500:1 (1.3× better than H.265)

Audio:
- FLAC: 1.6-1.8:1
- MP3 @ 128kbps: ~11:1
- AAC @ 128kbps: Equivalent to MP3 @ 192kbps
- Opus @ 64kbps: Equivalent to AAC @ 96kbps
```

**2. Bitrate Guidelines**

```
Video Streaming (H.264):
  360p:  0.5-1 Mbps
  480p:  1-2 Mbps
  720p:  2.5-5 Mbps
  1080p: 5-10 Mbps
  4K:    15-25 Mbps

Audio Streaming:
  Voice (Opus): 24-32 kbps
  Music (AAC):  128-192 kbps
  Hi-Fi (FLAC): 800-1000 kbps

Broadcasting:
  HD TV:  8-15 Mbps
  4K TV:  25-40 Mbps
```

**3. Key Algorithms**

```
Lossless:
✓ Huffman: Variable-length coding
✓ Arithmetic: Near-entropy coding
✓ LZW: Dictionary-based
✓ RLE: Run-length encoding

Lossy:
✓ DCT: Discrete Cosine Transform (JPEG, H.264)
✓ DWT: Discrete Wavelet Transform (JPEG2000)
✓ Quantization: Reduce precision
✓ Prediction: Inter/intra prediction
```

**4. Quality Metrics**

```
Objective:
- PSNR: >40dB excellent, 30-40dB good
- SSIM: >0.95 excellent, 0.80-0.95 good
- VMAF: >95 excellent, 80-95 good

Subjective:
- MOS: 5-point scale (5=excellent)
- DSIS: Impairment rating
- ACR: Absolute quality rating
```

**5. Important Standards**

```
Images:
- JPEG (1992): DCT-based, ubiquitous
- PNG (1996): Lossless, transparency
- WebP (2010): Modern, efficient
- JPEG2000 (2000): Wavelet, medical

Video:
- H.264/AVC (2003): Most deployed
- H.265/HEVC (2013): 50% better
- VP9 (2013): Google, royalty-free
- AV1 (2018): AOMedia, open, 30% better

Audio:
- MP3 (1993): Ubiquitous, legacy
- AAC (1997): 30% better than MP3
- Opus (2012): Best for VoIP, 5ms latency
- FLAC (2001): Lossless, open
```

**6. Redundancy Types**

```
┌─────────────────────┬─────────────────────┐
│  Spatial Redundancy │ Temporal Redundancy │
│  (Same frame)       │ (Between frames)    │
├─────────────────────┼─────────────────────┤
│  Visual Redundancy  │ Spectral Redundancy │
│  (Human perception) │ (Color correlation) │
└─────────────────────┴─────────────────────┘

Exploited by:
- Spatial: DCT, DWT, prediction
- Temporal: Motion compensation, P/B frames
- Visual: Quantization, psychoacoustic model
- Spectral: Chroma subsampling, transform
```

**7. Frame Types (Video)**

```
I-frame (Intra):
✓ Complete frame
✓ Reference for P/B frames
✓ Largest size
✓ Seek points

P-frame (Predicted):
✓ From previous frame
✓ Medium size
✓ Most common

B-frame (Bi-directional):
✓ From past + future
✓ Smallest size
✓ Higher latency
✓ Better compression

Typical GOP: I B B P B B P B B I
```

**8. Trade-offs to Remember**

```
Compression ↔ Quality
  Higher compression → Lower quality
  (Lossy codecs)

Speed ↔ Compression
  Faster encoding → Lower compression
  (Complexity vs. efficiency)

Latency ↔ Compression
  Lower latency → Less compression
  (Real-time constraints)

Universality ↔ Efficiency
  Wider support → Older codecs
  Better compression → Newer codecs
```

**中文:**

**1. 压缩比**: 如上所示的图像、视频、音频的典型压缩比
**2. 码率指南**: 不同分辨率视频和音频的推荐码率
**3. 关键算法**: 无损和有损压缩的主要算法
**4. 质量指标**: 客观和主观评价指标及其标准
**5. 重要标准**: 图像、视频、音频压缩的主要标准及年份
**6. 冗余类型**: 四种冗余及其利用方法
**7. 帧类型**: I/P/B帧的特点和典型GOP结构
**8. 需要记住的权衡**: 压缩vs质量、速度vs压缩、延迟vs压缩、通用性vs效率

### Exam Tips | 考试技巧

**English:**

**1. Structured Answering**

```
For "Explain/Describe" questions:
1. Definition/Overview (1 paragraph)
2. Key Components (bullet points)
3. How it works (step-by-step or diagram)
4. Advantages & Disadvantages
5. Use cases/Applications
6. Example (if applicable)

For "Compare" questions:
1. Brief introduction of each
2. Comparison table (recommended)
3. Detailed analysis of differences
4. Appropriate use cases for each
5. Recommendation/Conclusion

For "Design" questions:
1. Requirements analysis
2. Architecture diagram
3. Component explanation
4. Technology selection & justification
5. Scalability & optimization
6. Potential issues & solutions
```

**2. Drawing Effective Diagrams**

```
Always include:
✓ Clear labels
✓ Data flow direction (arrows)
✓ Key components
✓ Interfaces/protocols
✓ Legend (if complex)

Types of diagrams:
- Block diagrams: System architecture
- Flow charts: Algorithms, processes
- Sequence diagrams: Data flow
- State diagrams: Codec states
- Comparison tables: Multiple options
```

**3. Time Management**

```
Case analysis questions (typical 15-20 points):

Time allocation:
- Read question: 2-3 minutes
- Plan answer: 3-5 minutes
- Write answer: 15-20 minutes
- Review: 2-3 minutes
Total: ~25-30 minutes

Quick reference:
- Multiple choice: 1-2 min each
- Short answer: 5-10 min each
- Case study: 20-30 min each
- Design question: 30-40 min
```

**4. Common Mistakes to Avoid**

```
✗ Too vague: "H.265 is better"
✓ Specific: "H.265 achieves 50% bitrate reduction compared to H.264 at equivalent quality"

✗ No justification: "Use AV1"
✓ Justified: "Use AV1 for royalty-free licensing and 30% better compression than H.265"

✗ Missing trade-offs: "H.265 is always the best choice"
✓ Balanced: "H.265 offers better compression but requires 5-10× more encoding time and hardware support"

✗ Incomplete: "Use CDN for distribution"
✓ Complete: "Use multi-tier CDN with edge nodes for 95% traffic, origin servers for long-tail content, and DNS-based routing for optimal node selection"
```

**5. Scoring Rubric Awareness**

```
Typical point distribution:

1. Technical accuracy (40%):
   - Correct terms and concepts
   - Accurate numbers/specifications
   - Proper standard names

2. Completeness (30%):
   - Address all parts of question
   - Cover key aspects
   - Include examples

3. Structure & clarity (20%):
   - Logical organization
   - Clear diagrams
   - Easy to follow

4. Depth of understanding (10%):
   - Trade-off analysis
   - Real-world considerations
   - Optimization strategies
```

**6. Memorization Aids**

```
Acronyms:
- JPEG: Joint Photographic Experts Group
- MPEG: Moving Picture Experts Group
- AAC: Advanced Audio Coding
- HEVC: High Efficiency Video Coding
- PSNR: Peak Signal-to-Noise Ratio
- SSIM: Structural Similarity Index

Sequences:
H.26x video codecs evolution:
H.261 → H.263 → H.264/AVC → H.265/HEVC → H.266/VVC
(Each ~2× better compression)

MPEG audio layers:
Layer I → Layer II → Layer III (MP3)
(Each better quality/compression)

Key numbers:
- H.265: 50% better than H.264
- AV1: 30% better than H.265
- AAC: 30% better than MP3
- Opus latency: 5-66ms
- CD audio: 44.1kHz, 16-bit, 1411kbps
```

**中文:**

**1. 结构化答题**: 如上所示的"解释""对比""设计"类问题的答题结构
**2. 绘制有效图表**: 包括清晰标签、数据流方向、关键组件、接口/协议和图例
**3. 时间管理**: 各类题型的时间分配建议
**4. 常见错误避免**: 避免过于模糊、缺乏论证、忽略权衡、不完整的回答
**5. 评分标准意识**: 技术准确性(40%)、完整性(30%)、结构与清晰度(20%)、理解深度(10%)
**6. 记忆辅助**: 缩写词、序列和关键数字

---

## References | 参考资料

### Standards Documents | 标准文档

**English:**

**Image Compression:**
- **ITU-T T.81** (JPEG): Digital compression and coding of continuous-tone still images
- **ISO/IEC 15444-1** (JPEG2000): Image coding system
- **RFC 2083** (PNG): Portable Network Graphics specification
- **RFC 6716** (WebP): An image format employing both lossy and lossless compression

**Video Compression:**
- **ITU-T H.264 / ISO/IEC 14496-10** (AVC): Advanced Video Coding
- **ITU-T H.265 / ISO/IEC 23008-2** (HEVC): High Efficiency Video Coding
- **ITU-T H.266 / ISO/IEC 23090-3** (VVC): Versatile Video Coding
- **AV1 Bitstream & Decoding Process Specification**: Alliance for Open Media

**Audio Compression:**
- **ISO/IEC 11172-3** (MPEG-1 Audio Layer III / MP3)
- **ISO/IEC 13818-7** (MPEG-2 AAC): Advanced Audio Coding
- **ISO/IEC 14496-3** (MPEG-4 AAC): Audio coding enhancements
- **RFC 6716** (Opus): Interactive audio codec
- **RFC 3533** (FLAC): Free Lossless Audio Codec

**Quality Assessment:**
- **ITU-R BT.500**: Methodology for subjective assessment of television pictures
- **ITU-T P.910**: Subjective video quality assessment methods
- **ITU-T P.863** (POLQA): Perceptual objective listening quality assessment
- **ITU-R BS.1387** (PEAQ): Perceptual evaluation of audio quality

### Recommended Books | 推荐书籍

**English:**

**Comprehensive Textbooks:**
1. **"Digital Video and Audio Compression"** by Stephen Westland
   - Comprehensive coverage of compression fundamentals
   - Practical applications and case studies

2. **"The H.264 Advanced Video Compression Standard"** by Iain Richardson
   - Definitive guide to H.264/AVC
   - Detailed technical explanations

3. **"High Efficiency Video Coding (HEVC)"** by Mathias Wien
   - Complete coverage of H.265/HEVC
   - Algorithm details and implementation

4. **"Introduction to Data Compression"** by Khalid Sayood
   - Theoretical foundations
   - Various compression techniques

**Specialized Topics:**
5. **"Digital Image Processing"** by Rafael Gonzalez & Richard Woods
   - Image fundamentals and transforms
   - Chapter on image compression

6. **"Video Coding: An Introduction to Standard Codecs"** by M. Ghanbari
   - Evolution of video coding standards
   - Comparative analysis

7. **"MP3: The Definitive Guide"** by Scot Hacker
   - MP3 technology and psychoacoustics
   - Practical encoding tips

### Online Resources | 在线资源

**English:**

**Official Websites:**
- **JPEG Committee**: https://jpeg.org/
- **MPEG Organization**: https://mpeg.chiariglione.org/
- **Alliance for Open Media (AV1)**: https://aomedia.org/
- **Xiph.Org Foundation (Opus, FLAC)**: https://xiph.org/

**Documentation & Tools:**
- **FFmpeg Documentation**: https://ffmpeg.org/documentation.html
  - Comprehensive multimedia framework
  - Encoding/decoding examples

- **x264 Developer Wiki**: https://x264.dev/
  - H.264 encoding optimization
  - Performance tuning

- **VMAF Documentation**: https://github.com/Netflix/vmaf
  - Netflix's quality metric
  - Usage examples

**Learning Platforms:**
- **Video Encoding Academy**: Online courses on compression
- **Coursera "Digital Media & Streaming"**: University courses
- **YouTube Tech Channels**: Practical demonstrations
  - Two Minute Papers
  - Computerphile

**Technical Blogs:**
- **Netflix Tech Blog**: https://netflixtechblog.com/
  - Streaming optimization
  - Quality assessment

- **FFmpeg Blog**: Codec news and tutorials
- **Streaming Media**: Industry news and analysis

### Software Tools | 软件工具

**English:**

**Encoding/Decoding:**
- **FFmpeg**: Universal multimedia framework (open source)
- **HandBrake**: User-friendly video transcoder (free)
- **x265**: HEVC encoder (open source)
- **libaom**: AV1 reference encoder (open source)
- **SVT-AV1**: Scalable AV1 encoder (Intel/Netflix)

**Analysis Tools:**
- **MediaInfo**: Analyze media file details
- **Bitrate Viewer**: Visualize bitrate distribution
- **YUView**: Raw video player and analyzer
- **MSU Video Quality Measurement Tool**: Quality metrics

**Audio Tools:**
- **Audacity**: Audio editor (supports various codecs)
- **foobar2000**: Audio player with encoding plugins
- **LAME**: High-quality MP3 encoder
- **Opus-tools**: Opus encoder/decoder

**Quality Assessment:**
- **VMAF**: Video quality metric (Netflix)
- **SSIM Tool**: Structural similarity calculator
- **PESQ/POLQA**: Audio quality assessment

**中文:**

### 标准文档

如上所示的图像、视频、音频压缩标准和质量评估标准的完整列表。

### 推荐书籍

如上所示的综合教材和专业主题书籍，涵盖压缩基础、H.264、H.265、图像处理和MP3等主题。

### 在线资源

如上所示的官方网站、文档工具、学习平台和技术博客。

### 软件工具

如上所示的编解码工具、分析工具、音频工具和质量评估工具。

---

## Conclusion | 结论

**English:**

Multimedia data compression is a fundamental technology enabling the modern digital media ecosystem. Understanding compression principles, algorithms, and standards is essential for system architects to design efficient, scalable, and high-quality media systems.

**Key Takeaways:**

1. **Compression Fundamentals**:
   - Exploit redundancy (spatial, temporal, perceptual)
   - Balance quality, size, and complexity
   - Choose lossy or lossless based on requirements

2. **Modern Standards**:
   - **Images**: JPEG (ubiquitous), WebP (efficient), PNG (lossless)
   - **Video**: H.264 (compatible), H.265 (efficient), AV1 (future)
   - **Audio**: AAC (quality), Opus (real-time), FLAC (lossless)

3. **Practical Considerations**:
   - Hardware support and compatibility
   - Licensing and patent implications
   - Real-time vs. offline encoding
   - Network and storage constraints

4. **Future Trends**:
   - **AI-based compression**: Neural networks for better compression
   - **8K and beyond**: Higher resolutions demand better codecs
   - **VR/AR**: New compression challenges
   - **Cloud encoding**: Distributed transcoding at scale
   - **Royalty-free**: Move towards open standards (AV1, Opus)

5. **Architecture Design Principles**:
   - **Scalability**: Horizontal scaling of encoding clusters
   - **Adaptivity**: Multi-bitrate encoding and ABR delivery
   - **Optimization**: CDN, caching, and prefetching strategies
   - **Monitoring**: Quality metrics and user experience tracking
   - **Cost-efficiency**: Balance quality, bandwidth, and storage

**For System Architects:**

When designing multimedia systems, consider:
- **Target devices** and compatibility requirements
- **Network conditions** and adaptive streaming
- **Storage costs** vs. bandwidth costs
- **Quality requirements** for the application
- **Scalability** for future growth
- **Licensing** and intellectual property issues

Compression technology continues to evolve, driven by increasing resolutions, new applications (VR, cloud gaming), and the demand for better efficiency. Staying current with the latest standards and techniques is crucial for building state-of-the-art media systems.

**中文:**

多媒体数据压缩是支撑现代数字媒体生态系统的基础技术。理解压缩原理、算法和标准对于系统架构师设计高效、可扩展和高质量的媒体系统至关重要。

**关键要点:**

1. **压缩基础**: 利用冗余(空间、时间、感知)，平衡质量、大小和复杂度，根据需求选择有损或无损

2. **现代标准**: 
   - **图像**: JPEG(无处不在)、WebP(高效)、PNG(无损)
   - **视频**: H.264(兼容)、H.265(高效)、AV1(未来)
   - **音频**: AAC(质量)、Opus(实时)、FLAC(无损)

3. **实际考虑**: 硬件支持和兼容性、许可和专利影响、实时vs离线编码、网络和存储约束

4. **未来趋势**: 基于AI的压缩、8K及更高分辨率、VR/AR、云编码、免版税标准

5. **架构设计原则**: 可扩展性、自适应性、优化、监控、成本效率

**对于系统架构师:**

设计多媒体系统时考虑目标设备、网络条件、存储成本、质量要求、可扩展性和许可问题。

压缩技术持续发展，由不断提高的分辨率、新应用(VR、云游戏)和更高效率的需求驱动。了解最新标准和技术对于构建最先进的媒体系统至关重要。

---

**Document Version**: 1.0  
**Last Updated**: 2024  
**Target Audience**: System Architects, Software Engineers, Technical Managers  
**Exam Preparation**: Chinese National Computer Technology and Software Professional Qualification Examination (软考) - System Architect Level  

---

**文档版本**: 1.0  
**最后更新**: 2024  
**目标读者**: 系统架构师、软件工程师、技术经理  
**考试准备**: 中国计算机技术与软件专业技术资格(水平)考试 - 系统架构师级别